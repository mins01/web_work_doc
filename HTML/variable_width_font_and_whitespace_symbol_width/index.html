<!doctype html>
<html lang="ko" >
<head>
	<title>가변폭 글꼴과 공백(스페이스)기호 너비</title>
	<meta charset="utf-8">
	<meta http-equiv="Content-Script-Type" content="text/javascript">
	<meta http-equiv="Content-Style-Type" content="text/css">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="shortcut icon" href="http://www.mins01.com/favicon.ico">	
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<script src="/js/ForGoogle.js"></script>
	<!-- google analytics -->
	<script>if(window.ForGoogle){ ForGoogle.analytics() }else{ console.log("failure : ForGoogle.analytics()");}</script>
	

	<!-- jquery 관련 -->
	<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>

	<!-- 부트스트랩 4 : IE8지원안됨! -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" crossorigin="anonymous"> 
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" crossorigin="anonymous"></script>  -->
	<!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" crossorigin="anonymous"></script> -->
	<!-- vue.js -->
	<!-- <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->
	
	<!-- meta og -->
	
	<meta property="og:title" content="가변폭 글꼴과 공백(스페이스)기호 너비">
	<meta property="og:description" content="가변폭 글꼴과 공백(스페이스)기호 너비">
	<meta name="og:image" content="http://www.mins01.com/img/logo.gif">
	<meta property="og:image:width" content="190">
	<meta property="og:image:height" content="70" />
	<meta property="og:site_name" content="가변폭 글꼴과 공백(스페이스)기호 너비" />
	<meta property="og:type" content="website">
	
	<!-- //meta og -->
	
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap" rel="stylesheet">

	
    <style>
        .fs-20px{
            font-size: 20px;
        }
        .font-noto-sans-kr{
            font-family: 'Noto Sans KR', sans-serif;
        }
        .font-monospace{
            font-family: monospace;
        }
        .font-nanum-pen-script{
            font-family: 'Nanum Pen Script', cursive;
        }
        .ws-box{
            white-space: break-spaces;
            background-color: #abc;
        }
        
    </style>
</head>
<body>
	<div class="container">
        <h1>가변폭 글꼴과 공백(스페이스)기호 너비</h1>
        <ul class="list-group">
            <li class="list-group-item">가변폭 글꼴의 공백(스페이스,빈칸, whitespace)기호 너비에 대한 변화 체크</li>
            <li class="list-group-item">
                <h3>결론</h3>
                <b>
                    가변 너비 글꼴라도 보통은 공백 기호의 너비가 조건에 따라 변하지는 않는다.<br>
                    다만 <em>Noto Sans KR</em>과 같은 글꼴의 경우 조건에 따라 공백 기호의 너비가 변할 수 있다.<br>
                    고정폭 글꼴은 반각/전각 구분 빼고는 너비가 똑같다.
                </b>
            </li>
                
            <li class="list-group-item">
                주요 CSS class
                <code style="display: block; white-space: pre-line;">.text-box{
                    <b>white-space: break-spaces; /* 공백기호가 무조건 보이고, 줄바꿈 되도록 */</b>
                    background-color: #abc;
                }</code>
            </li>
            <li class="list-group-item">
                공백기호가 꽤.. 종류가 되지만, 여기선 아스키 \x20 를 기본으로 테스트한다. (줄 바꿈 되는 공백기호).<br>
                &amp;nbsp;(\xA0) 는 줄 바꿈 되지 않는 공백 기호로 \x20 와 모양은 같지만, 동작에 차이가 있다.
            </li>
            <li class="list-group-item">
                <a href="https://en.wikipedia.org/wiki/Whitespace_character">wikipedia : Whitespace_character</a><br>
                <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/white-space#collapsing_of_white_space">MDN : white-space</a>
            </li>
            <li class="list-group-item">
                <div style="white-space: pre-line;">Code Name
                    U+0020 space
                    U+00A0 no-break space
                    U+1680 ogham space mark
                    U+180E mongolian vowel separator
                    U+2000 en quad
                    U+2001 em quad
                    U+2002 en space
                    U+2003 em space
                    U+2004 three-per-em space
                    U+2005 four-per-em space
                    U+2006 six-per-em space
                    U+2007 figure space
                    U+2008 punctuation space
                    U+2009 thin space
                    U+200A hair space
                    U+202F narrow no-break space
                    U+205F medium mathematical space
                    U+3000 ideographic space</div>
            </li>
            
          </ul>
        <hr>
        <h2>가변폭 글꼴 : Noto Sans KR</h2>
        <h3>공백기호의 너비 계산이 주위의 글자에 영향을 받는다.</h3>
        <table class="table table-bordered font-noto-sans-kr fs-20px var-width-font">
            <thead>
                <tr class="table-success">
                    <th width="100">문자열</th>
                    <th width="120">너비(px)</th>
                    <th width="120">캔버스</th>
                    <th width="120">캔버스 너비(px)</th>
                    <th>비고</th>
                </tr>
            </thead>
            <tbody>
                <tr><td><span class="ws-box"> </span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">-</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">0</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">5</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">A</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">M</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">X</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">a</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">m</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">x</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">한</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td>전각 한글</td></tr>
                <tr><td><span class="ws-box">05</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td>예상너비 : 22.21875 = 11.109375+11.109375</td></tr>
                <tr><td><span class="ws-box">0 5</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td>예상너비 : 26.703125 = 11.109375+4.484375+11.109375</td></tr>
                <tr><td><span class="ws-box">0  5</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td>예상너비 : 31.1875 = 11.109375+4.484375+4.484375+11.109375</td></tr>
            </tbody>
        </table>
        <hr>
        <h2>가변폭 글꼴 : Nanum Pen Script</h2>
        <h3>글자마다의 폭은 다르지만, 공백의 폭이 변경되지는 않는다.</h3>
        <table class="table table-bordered font-nanum-pen-script fs-20px var-width-font">
            <thead>
                <tr class="table-success">
                    <th width="100">문자열</th>
                    <th width="120">너비(px)</th>
                    <th width="120">캔버스</th>
                    <th width="120">캔버스 너비(px)</th>
                    <th>비고</th>
                </tr>
            </thead>
            <tbody>
                <tr><td><span class="ws-box"> </span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">-</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">0</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">5</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">A</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">M</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">X</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">a</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">m</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">x</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">한</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td>전각 한글</td></tr>
                <tr><td><span class="ws-box">05</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td>예상너비 : 14.84375 = 7.171875+7.671875</td></tr>
                <tr><td><span class="ws-box">0 5</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td>예상너비 : 20.453125 = 7.171875+5.609375+7.671875</td></tr>
                <tr><td><span class="ws-box">0  5</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td>예상너비 : 26.0625 = 7.171875+5.609375+5.609375+7.671875</td></tr>
            </tbody>
        </table>
        <h2>고정폭 글꼴 : monospace</h2>
        <h3>글자 하나마다 똑같은 너비를 가진다.</h3>
        <table class="table table-bordered font-monospace fs-20px fixed-width-font">
            <thead>
                <tr class="table-success">
                    <th width="100">문자열</th>
                    <th width="120">너비(px)</th>
                    <th width="120">캔버스</th>
                    <th width="120">캔버스 너비(px)</th>
                    <th>비고</th>
                </tr>
            </thead>
            <tbody>
                <tr><td><span class="ws-box"> </span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">-</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">0</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">5</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">A</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">M</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">X</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">a</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">m</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">x</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td> </td></tr>
                <tr><td><span class="ws-box">한</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td>전각 한글</td></tr>
                <tr><td><span class="ws-box">05</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td>10+10 = 20</td></tr>
                <tr><td><span class="ws-box">0 5</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td>10+10+10 = 30</td></tr>
                <tr><td><span class="ws-box">0  5</span></td><td class="result-width">너비</td><td class="canvas-text-width">CANVAS 너비</td><td>10+10+10+10 = 40</td></tr>
            </tbody>
        </table>
        <script>
            function calcFontWidth(event){
                let canvas = document.createElement('canvas');
                ctx = canvas.getContext('2d');

                ctx.font = '20px "Noto Sans KR", serif';
                document.querySelectorAll('table.font-noto-sans-kr .ws-box').forEach(el=>{
                    let rect = el.getBoundingClientRect();
                    el.closest('tr').querySelector('.result-width').textContent = rect.width;
                    el.closest('tr').querySelector('.canvas-text-width').textContent = ctx.measureText(el.innerText).width;
                    console.log(el.innerText);
                })

                ctx.font = '20px "Nanum Pen Script", cursive';
                document.querySelectorAll('table.font-nanum-pen-script .ws-box').forEach(el=>{
                    let rect = el.getBoundingClientRect();
                    el.closest('tr').querySelector('.result-width').textContent = rect.width;
                    el.closest('tr').querySelector('.canvas-text-width').textContent = ctx.measureText(el.innerText).width;
                    console.log(el.innerText);
                })


                ctx.font = '20px monospace';
                document.querySelectorAll('table.font-monospace .ws-box').forEach(el=>{
                    let rect = el.getBoundingClientRect();
                    el.closest('tr').querySelector('.result-width').textContent = rect.width;
                    el.closest('tr').querySelector('.canvas-text-width').textContent = ctx.measureText(el.innerText).width;
                })
            }
            window.addEventListener('load',(evnet)=>{
                calcFontWidth(event);
            })
            document.fonts.ready.then(function () {
                calcFontWidth(event);
            });
        </script>
    </div>
</body>
</html>