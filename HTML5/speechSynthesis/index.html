<!doctype html>
<html lang="ko" >
<head>
	<title>speechSynthesis TTS</title>
	<meta charset="utf-8">
	<meta http-equiv="Content-Script-Type" content="text/javascript">
	<meta http-equiv="Content-Style-Type" content="text/css">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="shortcut icon" href="http://www.mins01.com/favicon.ico">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<script src="/js/ForGoogle.js"></script>
	<!-- google analytics -->
	<script>ForGoogle.analytics()</script>


	<!-- jquery ê´€ë ¨ -->
	<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>

	<!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© 4 : IE8ì§€ì›ì•ˆë¨! -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" crossorigin="anonymous">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" crossorigin="anonymous"></script>
	<!-- vue.js -->
	<script src="https://cdn.jsdelivr.net/npm/vue"></script>

	<!-- meta og -->

	<meta property="og:title" content="speechSynthesis TTS">
	<meta property="og:description" content="speechSynthesis TTS">
	<meta name="og:image" content="http://www.mins01.com/img/logo.gif">
	<meta property="og:image:width" content="190">
	<meta property="og:image:height" content="70" />
	<meta property="og:site_name" content="speechSynthesis TTS" />
	<meta property="og:type" content="website">

	<!-- //meta og -->
	<style>
		.input-group-text-w-1{width:7em;}
		.speaking-emoji{}
		.blink{-webkit-animation-name:blink;
			animation-name:blink;
			-webkit-animation-timing-function:cubic-bezier(0.42,0,0.58,1);
			animation-timing-function:cubic-bezier(0.42,0,0.58,1);
			-webkit-animation-duration:1s;
			animation-duration:1s;
			animation-iteration-count: infinite;
		}
		@keyframes blink{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}
	</style>

	<script src="app.js"></script>

	<script>

	function form_speak(f){
		if(window.speechSynthesis.speaking){
			console.log("ì´ë¯¸ ë§í•˜ê³  ìˆìŠµë‹ˆë‹¤.");
			return false;
		}
		var utterThis = new SpeechSynthesisUtterance();
		utterThis.onboundary = function(event) {
			console.log(event.name + ' boundary reached after ' + event.elapsedTime + ' seconds.');
		}
		utterThis.onstart = function(event) {
			app.speaking = true;
		}
		utterThis.onend  = function(event) {
			app.speaking = false;
		}
		utterThis.text = f.str.value;
		utterThis.voice = app.voices[f.voice.selectedIndex];
		utterThis.pitch = f.pitch.value;
		utterThis.rate = f.rate.value;
		window.speechSynthesis.speak(utterThis);

	}
	let app = null;
	$(function(){
		app = gerenate_speechSynthesis_app('#app');
	})
	</script>
</head>
<body>
	<div class="container mb-1">
		<h1>speechSynthesis TTS</h1>
		<ul class="list-group">
			<li class="list-group-item"><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis">https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis</a></li>
			<li class="list-group-item">
				Microsoft Heami Desktop - Korean ëŠ” í•œêµ­ì–´ ìœˆë„ìš°ì¦ˆì¼ ê²½ìš° ê¸°ë³¸ê°’ì´ë‹¤.<br />
				ì¼ë²ˆì–´ëŠ” ëª» ì½ìœ¼ë©°, ì¤‘êµ­ì–´(í•œë¬¸)ëŠ” í•œêµ­ ë°œìŒìœ¼ë¡œ ì½ëŠ”ë‹¤.(ä½ å¥½=>ë‹ˆí˜¸)
			</li>
			<li class="list-group-item">
				Microsoft Zira Desktop - English (United States) ëŠ” ì˜ì–´ë§Œ ì½ì–´ì¤€ë‹¤.
			</li>
			<li class="list-group-item">
				google ì œê³µì˜ ê²½ìš° í•´ë‹¹ ì§€ì—­ ì‚¬ëŒì˜ ë°œìŒìœ¼ë¡œ í•œê¸€ë„ ì½ì–´ì¤€ë‹¤. (ì¼ë³¸ì–´,ì¤‘êµ­ì–´ ì½ê¸°ê°€ ëœë‹¤.)
			</li>
			<li class="list-group-item">
				<button type="button" class="btn btn-info" onclick="window.speechSynthesis.speak(new SpeechSynthesisUtterance('ì•ˆë…•í•˜ì„¸ìš” ë°˜ê°‘ìŠµë‹ˆë‹¤'));">simple_speak : ì•ˆë…•í•˜ì„¸ìš” ë°˜ê°‘ìŠµë‹ˆë‹¤</button>
			</li>
		</ul>
		<hr />
	</div>



	<div class="container mb-1" id="app">
		<form onsubmit="form_speak(this);return false;">
			<div class="text-center mb-1">
				<div style="font-size:100px;">
					<div v-show="speaking" class="blink">
						<span>ğŸ—£ï¸</span>
					</div>
					<div v-show="!speaking">
						<span>ğŸ¤</span>
					</div>
				</div>
			</div>
			<div class="input-group mb-1">
				<div class="input-group-prepend">
					<span class="input-group-text input-group-text-w-1" >ëŒ€ë³¸</span>
				</div>
				<input name="str" type="text" class="form-control" placeholder="TTS text" value="ì•ˆë…•í•˜ì„¸ìš”. Hello. ã“ã‚“ã«ã¡ã¯. ä½ å¥½.">
			</div>

			<div class="input-group mb-1">
				<div class="input-group-prepend">
					<span class="input-group-text input-group-text-w-1" >ëª©ì†Œë¦¬</span>
				</div>
				<select class="form-control" name="voice">
					<template v-for="(vo,k) in voices" >
						<option class="" :value="k" :data-lang="vo.lang" :data-name="vo.name">[{{ k }}] ({{ vo.lang }}) ({{ vo.localService?"ë¡œì»¬":"ë¦¬ëª¨íŠ¸" }}) {{ vo.name }} {{ vo.default?"<ê¸°ë³¸>":""}}</option>
					</template>
				</select>
			</div>

			<div class="input-group mb-1">
				<div class="input-group-prepend">
					<span class="input-group-text input-group-text-w-1" >ìŒì˜ ë†’ì´</span>
				</div>
				<input name="pitch" type="number" class="form-control" value="1" step="0.5" min="0" max="10">
			</div>
			<div class="input-group mb-1">
				<div class="input-group-prepend">
					<span class="input-group-text input-group-text-w-1" >ì†ë„</span>
				</div>
				<input name="rate" type="number" class="form-control" value="1" step="0.5" min="0" max="10">
			</div>
			<div class="text-right">
				<button type="submit" class="btn btn-primary m-1">speak</button>
				<button type="button" class="btn btn-danger m-1" onclick="window.speechSynthesis.cancel()">cancel</button>
				<button type="button" class="btn btn-success m-1" onclick="window.speechSynthesis.resume()">resume</button>
				<button type="button" class="btn btn-warning m-1" onclick="window.speechSynthesis.pause()">pause</button>
			</div>

		</form>


	</div>
</body>
</html>
