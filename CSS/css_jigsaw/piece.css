@charset "utf-8";

:root{

    

}
.piece-container{
    --shape-multiple-top:0;
    --shape-multiple-right:0;
    --shape-multiple-bottom:0;
    --shape-multiple-left:0;
    /* --shape-uneven:20px; */
    --piece-wrap-width:100px;
    --piece-wrap-height:100px;
    --shape-scale:calc(100 / 70);
    --piece-uneven-ratio:0.15;
}

.piece-wrap{
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    align-content: center;
    justify-content: center;
    align-items: center;

    width: var(--piece-wrap-width,100px);
    height: var(--piece-wrap-height,100px);
    position: relative;


    --shape-width:calc(var(--shape-scale) * var(--piece-wrap-width));
    --shape-height:calc(var(--shape-scale) * var(--piece-wrap-height));
    --shape-uneven:calc( ( var(--shape-width) - var(--piece-wrap-width,100px) ) / 2);
    --shape-uneven-x:var(--shape-uneven);
    --shape-uneven-y:calc( ( var(--shape-height) - var(--piece-wrap-height,100px) ) / 2);
}

.debug .piece-wrap::before,
.piece-wrap.debug::before{
    pointer-events: none;
    content: '';
    display: block;
    position: absolute;
    left:0;right:0;top:0;bottom:0;
    width:100%;height:100%;
    outline:1px dotted #0000ff99;
    outline-offset: -1px;
    z-index: 5;
}
.debug .piece-wrap::after,
.piece-wrap.debug::after{
    pointer-events: none;
    content: '';
    display: block;
    position: absolute;
    left:0;right:0;top:0;bottom:0;
    outline:2px dashed #ff000099;
    outline-offset: -2px;
    z-index: 9;
    top:calc( -1 * var(--shape-uneven-y));
    right:calc( -1 * var(--shape-uneven-x));
    bottom:calc( -1 * var(--shape-uneven-y));
    left:calc( -1 * var(--shape-uneven-x));
    /* transform: scale( calc( 100 / 70 )); */
    /* width:calc(100% + 2 * var(--shape-uneven,0));
    height:calc(100% + 2 * var(--shape-uneven,0));
    margin:calc(-1 * var(--shape-uneven,0)); */
    /* width:calc(var(--piece-wrap-width) + 2 * var(--shape-uneven-x));
    height:calc(var(--piece-wrap-height) + 2 * var(--shape-uneven-y)); */
}


.piece-shape{
    display: flex;
    background-repeat: no-repeat;
}



.piece-shape{
    display: block;
    position: absolute;
    top:calc( -1 * var(--shape-uneven-y));
    right:calc( -1 * var(--shape-uneven-x));
    bottom:calc( -1 * var(--shape-uneven-y));
    left:calc( -1 * var(--shape-uneven-x));
    /* transform: scale( var(--shape-scale) ); */
    /* width:calc(var(--piece-wrap-width) + 2 * var(--shape-uneven-x));
    height:calc(var(--piece-wrap-height) + 2 * var(--shape-uneven-y));
    margin:calc(-1 * var(--shape-uneven-x)) calc(-1 * var(--shape-uneven-y)); */
}

.piece-shape.polygon{
    /* --shape-uneven-left:var(--shape-uneven-x,0);
    --shape-uneven-top:var(--shape-uneven-y,0);
    --shape-uneven-right:calc(100% - var(--shape-uneven-x,0));
    --shape-uneven-bottom:calc(100% - var(--shape-uneven-y,0)); */

    --shape-uneven-polygon-x:calc(100% * var(--piece-uneven-ratio));
    --shape-uneven-polygon-y:calc(100% * var(--piece-uneven-ratio));
    --shape-uneven-polygon-left:calc(100% * var(--piece-uneven-ratio));
    --shape-uneven-polygon-top:calc(100% * var(--piece-uneven-ratio));
    --shape-uneven-polygon-right:calc(100% - 100% * var(--piece-uneven-ratio));
    --shape-uneven-polygon-bottom:calc(100% - 100% * var(--piece-uneven-ratio));
    clip-path: polygon(
        var(--shape-uneven-polygon-left) var(--shape-uneven-polygon-top),
        50% calc(var(--shape-uneven-polygon-top) - var(--shape-multiple-top,0) * var(--shape-uneven-polygon-y,0)),
        var(--shape-uneven-polygon-right) var(--shape-uneven-polygon-top),
        calc(var(--shape-uneven-polygon-right) + var(--shape-multiple-right,0) * var(--shape-uneven-polygon-x,0)) 50%,
        var(--shape-uneven-polygon-right) var(--shape-uneven-polygon-bottom),
        50% calc(var(--shape-uneven-polygon-bottom) + var(--shape-multiple-bottom,0) * var(--shape-uneven-polygon-y,0)),
        var(--shape-uneven-polygon-left) var(--shape-uneven-polygon-bottom),
        calc(var(--shape-uneven-polygon-left) - var(--shape-multiple-left,0) * var(--shape-uneven-polygon-x,0)) 50%
    );
}
.piece-shape.polygon[data-shape-top="0"]{ --shape-multiple-top:0; }
.piece-shape.polygon[data-shape-top="p"]{ --shape-multiple-top:1; }
.piece-shape.polygon[data-shape-top="n"]{ --shape-multiple-top:-1; }

.piece-shape.polygon[data-shape-right="0"]{ --shape-multiple-right:0; }
.piece-shape.polygon[data-shape-right="p"]{ --shape-multiple-right:1; }
.piece-shape.polygon[data-shape-right="n"]{ --shape-multiple-right:-1; }

.piece-shape.polygon[data-shape-bottom="0"]{ --shape-multiple-bottom:0; }
.piece-shape.polygon[data-shape-bottom="p"]{ --shape-multiple-bottom:1; }
.piece-shape.polygon[data-shape-bottom="n"]{ --shape-multiple-bottom:-1; }

.piece-shape.polygon[data-shape-left="0"]{ --shape-multiple-left:0; }
.piece-shape.polygon[data-shape-left="p"]{ --shape-multiple-left:1; }
.piece-shape.polygon[data-shape-left="n"]{ --shape-multiple-left:-1; }


.piece-shape.mask-svg{
    /* --shape-uneven:33.33%; */
    /* width:calc(100% + 2 * var(--shape-uneven,0));
    height:calc(100% + 2 * var(--shape-uneven,0));
    margin:calc(-1 * var(--shape-uneven,0)); */
}